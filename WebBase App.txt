<html>
<body bgcolor=cyan>
<h1>Student Registration Page</h1><hr>
<form action="JspTest.jsp">
<table>
<tr><td>Enter StudID<td><input type=text name=t1 placeholder="enter studentID" size=20 required></tr>
<tr><td>Enter Name<td><input type=text name=t2 placeholder="enter studentName" size=20 required></tr>
<tr><td>Enter Address<td><input type=text name=t3 placeholder="enter studentAddress" size=20 required></tr>
<tr><td><td><input type=submit value=Insert name=b1>
<input type=submit value=Update name=b1>
<input type=submit value=Delete name=b1>
<input type=submit value=Select name=b1>
</tr>
</table>
</form>
</body>
</html>
-----------------------------------------------------------------
<% String a=request.getParameter("t1");
String b=request.getParameter("t2");
String c=request.getParameter("t3");%>

<%out.println("The Student Id is "+a);
out.println("The Student name is "+b);
out.println("The Student address is "+c);%>
--------------------------------------------------------------------
<%@page import="java.sql.*" %>
<% String a=request.getParameter("t1");
String b=request.getParameter("t2");
String c=request.getParameter("t3");%>
<h1><center>Student Details</center></h1><hr color=red><hr color=blue>
<%out.println("The Student Id is "+a);%>
<br>
<% out.println("The Student name is "+b);
out.println("<br>");
out.println("The Student address is "+c);%>
<% try
{
String driverclass="com.mysql.jdbc.Driver";
	String url="jdbc:mysql://localhost:3306/sandip";
	String username="root";
	String password="1234";
	Class.forName(driverclass);
	Connection con=DriverManager.getConnection(url,username,password);
	String x=request.getParameter("b1");
	if(x.equals("Insert"))
	{
		PreparedStatement ps=con.prepareStatement("insert into student values(?,?,?)");
		ps.setInt(1,Integer.parseInt(a));
		ps.setString(2,b);
		ps.setString(3,c);
		ps.execute();
		out.println("row inserted");
	}
	}
	catch(Exception ae)
	{
		ae.printStackTrace();
	}


	%>

---------------------------------------------------------------------------------
    when we use Createstatement, when we use preparestatement??
Createstatement :- static statement
 preparestatement :- dynamic statement
----------------------------------------------------------------------
    when we use jsp file and when we use GUI
servlet,JSP,spring boot,spring MVC

------------------------------------------------------------------------------------------
servlet and Jsp
servlet is faster than JSP.
JSP internally is converted to servlet.
The code is less in JSP compared to servlet.
Servlet are java files.where as JSP are webbased file.
------------------------------------------------------------------------------------------
<%@page import="java.sql.*" %>
<% String a=request.getParameter("t1");
String b=request.getParameter("t2");
String c=request.getParameter("t3");%>
<h1><center>Student Details</center></h1><hr color=red><hr color=blue>
<%out.println("The Student Id is "+a);%>
<br>
<% out.println("The Student name is "+b);
out.println("<br>");
out.println("The Student address is "+c);%>
<% try
{
String driverclass="com.mysql.jdbc.Driver";
	String url="jdbc:mysql://localhost:3306/sandip";
	String username="root";
	String password="1234";
	Class.forName(driverclass);
	Connection con=DriverManager.getConnection(url,username,password);
	String x=request.getParameter("b1");
	if(x.equals("Insert"))
	{
		PreparedStatement ps=con.prepareStatement("insert into student values(?,?,?)");
		ps.setInt(1,Integer.parseInt(a));
		ps.setString(2,b);
		ps.setString(3,c);
		ps.execute();
		out.println("row inserted");
	}
	if(x.equals("Select"))
	{
		out.println("<h2>Student Details<h2>");
		out.println("<br><table cellspacing='0' cellpadding='5' border='1'>");
		out.println("<tr><td><b>Student id<td><b>Student name<td><b>Address</tr></b>");
		PreparedStatement ps=con.prepareStatement("select * from student order by studid");
		ResultSet rs=ps.executeQuery();
		while(rs.next())
		{
			out.println("<tr><td>"+rs.getString(1)+"</td>");
			out.println("<td>"+rs.getString(2)+"</td>");
			out.println("<td>"+rs.getString(3)+"</td></tr>");
		}
		
	}
	}
	catch(Exception ae)
	{
		ae.printStackTrace();
	}

	%>
----------------------------------------------------------------------------------------------------
Servlet is a server side programming language.
There are 2 types of servlet
1)Generic Servlet(Protocal Independent)
2)HttpServlet(Protocal dependent)
-------------------------------------------------------------
In the servlet we don't have the main()

we have the lifecycle method for Generic Servlet.
init():- This execute for one time .It is used to create the memory block.
service() :- This execute for 'n' no of times .It accepts request and gives the response. 
destroy():-This execute for one time .It is used to delete the  memory block. 
------------------------------------------------------------------------------------
HttpServlet it also don't have the main()

we have the lifecycle method.
init():-This execute for one time .It is used to create the memory block.
service()/doGet()/doPost:-This execute for 'n' no of times .It accepts request and gives the response.
destroy():-This execute for one time .It is used to delete the  memory block. 
------------------------------------------------------------------------------------------------
<form action="JspTest.jsp" method=get/post>
by default it is get.we can see the data on the address bar.
http://localhost:8090/MySqlDemo1/JspTest.jsp?t1=1001&t2=ajay&t3=Bangalore&b1=Insert
in post we cannot see the data on the address bar.
the data is secured.
---------------------------------------------------------------------------------------------------------------------
The internet works with HTTP protocal.
so have cookies and session.
we have methods like sendRedirect(),requestDispatcher().
----------------------------------------------------------------------------------------------------------
sendRedirect();
--------------------------
we will have a registration page and after registration it will redirect to login page.
--------------------------------------------------register.html-------------------------------------------------------------
Example :-
<html>
<body bgcolor=cyan>
<h1>Student Registration Page</h1><hr>
<form action="ServletRedirect" method="get">
<table>
<tr><td>Enter StudID<td><input type=text name=t1 size=20 required></tr>
<tr><td>Enter Name<td><input type=text name=t2  size=20 required></tr>
<tr><td>Enter Address<td><input type=text name=t3  size=20 required></tr>
<tr><td>Enter password<td><input type=password name=t4  size=20 required></tr>
<tr><td><td><input type=submit value=Submit></tr>
</table>
</form>
</body>
</html>
--------------------------------------------------------------------------
import java.io.*;
import java.sql.*;
import javax.servlet.*;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
@WebServlet("/ServletRedirect")
public class ServletRedirect extends HttpServlet 
{
	public void doGet(HttpServletRequest req,HttpServletResponse res)throws ServletException,IOException
	{
		PrintWriter pw=res.getWriter();
		res.setContentType("text/html");
		String a=req.getParameter("t1");
		String b=req.getParameter("t2");
		String c=req.getParameter("t3");
		String d=req.getParameter("t4");
		String driverclass="oracle.jdbc.driver.OracleDriver";
		String url="jdbc:oracle:thin:@localhost:1521:xe";
		String username="system";
		String password="1234";
	//	String sql="create table marlabsstud1 (studid number,name varchar2(30),address varchar2(30),password varchar2(30))";
		String sql1="insert into marlabsstud1 values(?,?,?,?)";
		try
		{
		Class.forName(driverclass);
		Connection con=DriverManager.getConnection(url,username,password);
		//PreparedStatement st=con.prepareStatement(sql);
		//st.execute();
		PreparedStatement st1=con.prepareStatement(sql1);
		st1.setInt(1,Integer.parseInt(a));
		st1.setString(2,b);
		st1.setString(3,c);
		st1.setString(4,d);
		st1.execute();
		res.sendRedirect("login.html");
	}
	catch(Exception ae)
	{
		ae.printStackTrace();
	}
	}
}
--------------------------------------------login.html-------------------------------------------------------
<html>
<body bgcolor=cyan>
<h1>Student Login Page</h1><hr>
<form action="Login" method="get">
<table>
<tr><td>Enter Name<td><input type=text name=t1  size=20 required></tr>
<tr><td>Enter password<td><input type=password name=t2  size=20 required></tr>
<tr><td><td><input type=submit value=submit></tr>
</table>
</form>
</body>
</html>
-----------------------------------------------------------------------
import java.io.*;
import java.sql.*;
import javax.servlet.*;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.*;
@WebServlet("/Login")
	public class Login extends HttpServlet 
	{
		public void doGet(HttpServletRequest req,HttpServletResponse res)throws ServletException,IOException
		{
			PrintWriter pw=res.getWriter();
			res.setContentType("text/html");
			String a=req.getParameter("t1");
			String b=req.getParameter("t2");
			String driverclass="oracle.jdbc.driver.OracleDriver";
			String url="jdbc:oracle:thin:@localhost:1521:xe";
			String username="system";
			String password="1234";
				try
			{
			Class.forName(driverclass);
			Connection con=DriverManager.getConnection(url,username,password);
			PreparedStatement ps=con.prepareStatement("select * from marlabsstud1 where name=? and password=?");
			ps.setString(1,a);
			ps.setString(2,b);
			ResultSet rs=ps.executeQuery();
			int x=0;
			while(rs.next())
			{
				x=1;
			}
			if(x==1)
				res.sendRedirect("success.html");
			else
			 res.sendRedirect("login.html");
		}
		catch(Exception ae)
		{
			ae.printStackTrace();
		}
		}
	}


-----------------------------------------------------------------------------------------------------------
<body>
<h1>Login Success</h1>
</body>
-----------------------------------------------------

























